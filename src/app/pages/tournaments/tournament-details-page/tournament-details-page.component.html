<div class="header">
    <button mat-raised-button color="primary" (click)="goToTournamentsList()">К списку турниров</button>
    <div class="tournament-info">
        <h2>Название: {{tournament.Title}}</h2>
        <span>Организатор: {{tournament.User.FIO}}</span>
    </div>
</div>
<div class="actions" *ngIf="profile !== null && profile.ID === tournament.UserID">
    <button mat-raised-button color="primary" (click)="addGroup()">Добавить группу</button>
    <button mat-raised-button color="primary" (click)="removeGroup()">Удалить группу</button>
    <button mat-raised-button color="primary" *ngIf="!data.playoff" (click)="addPlayoff(true)">Добавить playoff (singleData)</button>
    <button mat-raised-button color="primary" *ngIf="!data.playoff" (click)="addPlayoff(false)">Добавить playoff (doubleData)</button>
    <button mat-raised-button color="primary" *ngIf="data.playoff" (click)="removePlayoff()">Удалить playoff</button>
</div>
<div *ngIf="data.groups && data.groups.length > 0">
    <div class="title">
        <h3>Группы</h3>
    </div>
    <app-brackets *ngFor="let group of data.groups"
        [canEdit]="profile !== null && profile.ID === tournament.UserID"
        [data]="group.data"
        [groupName]="group.name"
        [typeBracket]="'group'"
        (OnChange)="SaveOnChange($event, group, 'group')"
    ></app-brackets>
</div>
<div *ngIf="data.playoff">
    <div class="title">
        <h3>Плай-офф</h3>
    </div>
    <app-brackets  [canEdit]="profile !== null && profile.ID === tournament.UserID"
        [data]="data.playoff"
        [typeBracket]="data.playoffType || 'single'"
        (OnChange)="SaveOnChange($event, data.playoff, 'playoff')"
    ></app-brackets>
</div>